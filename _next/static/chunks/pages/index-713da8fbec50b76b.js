(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return r(8325)}])},8325:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return f}});var o=r(5893),n=r(922),l=r.n(n);let a=e=>(0,o.jsxs)("div",{className:l().upper,children:[(0,o.jsxs)("div",{className:l().left,children:[" ",String(e.bombcount).padStart(3,"0")," "]}),(0,o.jsx)("button",{className:e.clearcount===e.bombcount2?l().clear:1===e.gameover?l().over:l().middle,onClick:e.resetboard}),(0,o.jsx)("div",{className:l().right,children:String(e.timer).padStart(3,"0")})]});var c=r(7294);let i=()=>{let[e,t]=(0,c.useState)([[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0]]),r=JSON.parse(JSON.stringify(e)),[o,n]=(0,c.useState)([[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0]]);return{board:[[-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1]],userInputs:e,bombMap:o,bombcount:10,setuserInputs:t,setBombMap:n,newInputs:r,directions:[[-1,-1],[-1,0],[-1,1],[0,1],[1,1],[1,0],[1,-1],[0,-1]]}},s=()=>{let{board:e,userInputs:t,bombMap:r,setuserInputs:o,setBombMap:n,newInputs:l,directions:a}=i(),[s,d]=(0,c.useState)(0),u=10,_=u,f=(t,o,n)=>void 0!==e[t+n[0]]&&void 0!==e[o+n[1]]&&1===r[t+n[0]][o+n[1]],b=(t,r,o)=>void 0!==e[t+o[0]]&&void 0!==e[r+o[1]]&&-1===e[t+o[0]][r+o[1]]&&11!==e[t][r],p=(t,r,o)=>{if(0===o)for(let o of a)e[t][r]=0,b(t,r,o)&&m(t+o[0],r+o[1]);else e[t][r]=o},m=(t,r)=>{let o=0;for(let e of a)f(t,r,e)&&o++;11!==e[t][r]&&p(t,r,o)},v=0,x=0,h=(t,o)=>{1===r[t][o]&&(e[t][o]=11,v=1)},N=e=>{for(let t=0;t<9;t++)for(let r=0;r<9;r++)e(t,r)},g=(t,r)=>{(-1===e[t][r]||10===e[t][r]||9===e[t][r])&&x++},j=(o,n)=>{if(1===t[o][n]){if(1===r[o][n]){N(h);return}m(o,n)}else 2===t[o][n]?(e[o][n]=10,u--):3===t[o][n]&&(e[o][n]=9)};N(j);let S=(t,o)=>{1===r[t][o]&&(e[t][o]=10)},C=(e,r,n)=>{let l=[...t];0===n?l[e][r]=2:2===n?l[e][r]=3:3===n&&(l[e][r]=0),o(l)},k=(e,t)=>{let o=0;for(;o<u;){let l=Math.floor(Math.random()*r.length),a=Math.floor(Math.random()*r[0].length);if(1!==r[a][l]&&"".concat(a).concat(l)!=="".concat(e).concat(t)){let e=[...r];e[a][l]=1,o++,n(e)}}console.log("一クリ目",e,t),d(0)},E=(e,r)=>{0===M&&k(e,r);let n=[...t];n[e][r]=1,o(n)};N(g),x===_&&N(S);let w=(e,r,n)=>{if(console.log("押されている"),2===n.button){n.preventDefault();let t=l[e][r];C(e,r,t)}else 0===t[e][r]&&(0===M&&E(e,r),l[e][r]=1,o(l))},M=0;for(let e=0;e<9;e++)for(let t=0;t<9;t++)1===r[e][t]&&M++;let O=()=>{for(let o=0;o<9;o++)for(let n=0;n<9;n++)e[o][n]=-1,t[o][n]=0,r[o][n]=0;M=0,d(0)};return(0,c.useEffect)(()=>{let e;return M>0&&x!==_&&0===v&&(e=setInterval(()=>{d(e=>e+1)},1e3)),()=>clearInterval(e)},[M,x,u,_,v]),{clearcount:x,gameover:v,timer:s,onClick:w,setTimer:d,bombcount2:_,resetboard:O,board:e,bombcount:u}};var d=r(2729),u=r.n(d);let _=()=>{let{clearcount:e,gameover:t,timer:r,onClick:n,bombcount2:l,resetboard:c,board:i,bombcount:d}=s();return(0,o.jsx)("div",{className:u().container,children:(0,o.jsxs)("div",{className:u().boardboard,children:[(0,o.jsx)(a,{bombcount:d,clearcount:e,bombcount2:l,gameover:t,resetboard:c,timer:r}),(0,o.jsx)("div",{className:u().board,children:i.map((e,t)=>e.map((e,r)=>(0,o.jsx)("div",{className:-1===e?u().stone:u().number,style:e>=0?{backgroundPosition:"".concat(-((e-1)*55.83),"px 0")}:{},onClick:e=>n(t,r,e),onContextMenu:e=>n(t,r,e)},"".concat(t,"-").concat(r))))})]})})};var f=_},922:function(e){e.exports={upper:"upper_upper__IzObB",left:"upper_left___0CJT",middle:"upper_middle__v02Jx",right:"upper_right__txySA",over:"upper_over__8CKvu",clear:"upper_clear__B4cC8"}},2729:function(e){e.exports={container:"index_container__gnN1f",boardboard:"index_boardboard__YE2Hj",board:"index_board__2d6xe",cell:"index_cell__3W8ZQ",number:"index_number__l0yF_",stone:"index_stone__oeDmm"}}},function(e){e.O(0,[774,888,179],function(){return e(e.s=8312)}),_N_E=e.O()}]);