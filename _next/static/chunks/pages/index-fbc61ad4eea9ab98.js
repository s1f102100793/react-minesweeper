(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return r(7477)}])},7477:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return m}});var n=r(5893),o=r(4110),l=r.n(o);let a=e=>{let t=-((e.number-1)*55.8);return(0,n.jsx)("div",{className:-1===e.number?l().stone:l().number,style:e.number>=0?{backgroundPosition:"".concat(t,"px 0")}:{},onClick:t=>e.onClick(e.y,e.x,t),onContextMenu:t=>e.onClick(e.y,e.x,t)})};var c=r(922),i=r.n(c);let s=e=>(0,n.jsxs)("div",{className:i().upper,children:[(0,n.jsxs)("div",{className:i().left,children:[" ",String(e.bombcount).padStart(3,"0")," "]}),(0,n.jsx)("button",{className:e.clearcount===e.bombcount2?i().clear:1===e.gameover?i().over:i().middle,onClick:e.resetboard}),(0,n.jsx)("div",{className:i().right,children:String(e.timer).padStart(3,"0")})]});var u=r(7294);let d=()=>{let[e,t]=(0,u.useState)([[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0]]),r=JSON.parse(JSON.stringify(e)),[n,o]=(0,u.useState)([[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0]]);return{board:[[-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1]],userInputs:e,bombMap:n,bombcount:10,setuserInputs:t,setBombMap:o,newInputs:r,directions:[[-1,-1],[-1,0],[-1,1],[0,1],[1,1],[1,0],[1,-1],[0,-1]]}},_=()=>{let{board:e,userInputs:t,bombMap:r,setuserInputs:n,setBombMap:o,newInputs:l,directions:a}=d(),[c,i]=(0,u.useState)(0),s=10,_=s,f=(t,n,o)=>void 0!==e[t+o[0]]&&void 0!==e[n+o[1]]&&1===r[t+o[0]][n+o[1]],b=(t,r,n)=>void 0!==e[t+n[0]]&&void 0!==e[r+n[1]]&&-1===e[t+n[0]][r+n[1]]&&11!==e[t][r],p=(t,r,n)=>{if(0===n)for(let n of a)e[t][r]=0,b(t,r,n)&&m(t+n[0],r+n[1]);else e[t][r]=n},m=(t,r)=>{let n=0;for(let e of a)f(t,r,e)&&n++;11!==e[t][r]&&p(t,r,n)},v=0,x=0,h=(t,n)=>{1===r[t][n]&&(e[t][n]=11,v=1)},N=e=>{for(let t=0;t<9;t++)for(let r=0;r<9;r++)e(t,r)},g=(t,r)=>{(-1===e[t][r]||10===e[t][r]||9===e[t][r])&&x++},j=(n,o)=>{if(1===t[n][o]){if(1===r[n][o]){N(h);return}m(n,o)}else 2===t[n][o]?(e[n][o]=10,s--):3===t[n][o]&&(e[n][o]=9)};N(j);let C=(t,n)=>{1===r[t][n]&&(e[t][n]=10)},k=(e,r,o)=>{let l=[...t];0===o?l[e][r]=2:2===o?l[e][r]=3:3===o&&(l[e][r]=0),n(l)},S=(e,t)=>{let n=0;for(;n<s;){let l=Math.floor(Math.random()*r.length),a=Math.floor(Math.random()*r[0].length);if(1!==r[a][l]&&"".concat(a).concat(l)!=="".concat(e).concat(t)){let e=[...r];e[a][l]=1,n++,o(e)}}console.log("一クリ目",e,t),i(0)},E=(e,r)=>{0===y&&S(e,r);let o=[...t];o[e][r]=1,n(o)};N(g),x===_&&N(C);let w=(e,r,o)=>{if(console.log("押されている"),2===o.button){o.preventDefault();let t=l[e][r];k(e,r,t)}else 0===t[e][r]&&(0===y&&E(e,r),l[e][r]=1,n(l))},y=0;for(let e=0;e<9;e++)for(let t=0;t<9;t++)1===r[e][t]&&y++;let M=()=>{for(let n=0;n<9;n++)for(let o=0;o<9;o++)e[n][o]=-1,t[n][o]=0,r[n][o]=0;y=0,i(0)};return(0,u.useEffect)(()=>{let e;return y>0&&x!==_&&0===v&&(e=setInterval(()=>{i(e=>e+1)},1e3)),()=>clearInterval(e)},[y,x,s,_,v]),{clearcount:x,gameover:v,timer:c,onClick:w,setTimer:i,bombcount2:_,resetboard:M,board:e,bombcount:s}};var f=r(2729),b=r.n(f);let p=()=>{let{clearcount:e,gameover:t,timer:r,onClick:o,bombcount2:l,resetboard:c,board:i,bombcount:u}=_();return(0,n.jsx)("div",{className:b().container,children:(0,n.jsxs)("div",{className:b().boardboard,children:[(0,n.jsx)(s,{bombcount:u,clearcount:e,bombcount2:l,gameover:t,resetboard:c,timer:r}),(0,n.jsx)("div",{className:b().board,children:i.map((e,t)=>e.map((e,r)=>(0,n.jsx)(a,{number:e,y:t,x:r,onClick:(e,t,r)=>o(e,t,r)},"".concat(t,"-").concat(r))))})]})})};var m=p},4110:function(e){e.exports={number:"cell_number__c7EPl",stone:"cell_stone__pDME7"}},922:function(e){e.exports={upper:"upper_upper__IzObB",left:"upper_left___0CJT",middle:"upper_middle__v02Jx",right:"upper_right__txySA",over:"upper_over__8CKvu",clear:"upper_clear__B4cC8"}},2729:function(e){e.exports={container:"index_container__gnN1f",boardboard:"index_boardboard__YE2Hj",board:"index_board__2d6xe",cell:"index_cell__3W8ZQ"}}},function(e){e.O(0,[774,888,179],function(){return e(e.s=8312)}),_N_E=e.O()}]);