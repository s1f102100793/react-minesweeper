(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,t,o){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return o(85)}])},85:function(e,t,o){"use strict";o.r(t);var n=o(5893),l=o(7294),r=o(2729),a=o.n(r);let i=()=>{let[e,t]=(0,l.useState)([[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0]]),o=10,r=o,i=JSON.parse(JSON.stringify(e)),[c,s]=(0,l.useState)([[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0]]),d=[[-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1]],[_,f]=(0,l.useState)(0),u=[[-1,-1],[-1,0],[-1,1],[0,1],[1,1],[1,0],[1,-1],[0,-1]],b=(e,t)=>{let o=0;for(let n of u)void 0!==d[e+n[0]]&&void 0!==d[t+n[1]]&&1===c[e+n[0]][t+n[1]]&&o++;if(11!==d[e][t]){if(0===o)for(let o of u)d[e][t]=0,void 0!==d[e+o[0]]&&void 0!==d[t+o[1]]&&-1===d[e+o[0]][t+o[1]]&&11!==d[e][t]&&b(e+o[0],t+o[1]);else d[e][t]=o}},x=0,p=0;for(let t=0;t<9;t++)for(let n=0;n<9;n++){if(1===e[t][n]){if(1===c[t][n]){for(let e=0;e<9;e++)for(let t=0;t<9;t++)1===c[e][t]&&(d[e][t]=11,x=1);continue}b(t,n)}2===e[t][n]?(d[t][n]=10,o--):3===e[t][n]&&(d[t][n]=9)}for(let e=0;e<9;e++)for(let t=0;t<9;t++)(-1===d[e][t]||10===d[e][t]||9===d[e][t])&&console.log("clearcount",++p);if(p===r)for(let e=0;e<9;e++)for(let t=0;t<9;t++)1===c[e][t]&&(d[e][t]=10);console.log("board"),console.table(d),console.log("bombMap"),console.table(c),console.log("userInputs"),console.table(e);let m=0;for(let e=0;e<9;e++)for(let t=0;t<9;t++)1===c[e][t]&&m++;let h=(n,l,r)=>{if(2===r.button){r.preventDefault();let o=[...e],a=o[n][l];0===a?o[n][l]=2:2===a?o[n][l]=3:3===a&&(o[n][l]=0),t(o)}else if(0===e[n][l]){if(0===m){let e=0;for(;e<o;){let t=Math.floor(Math.random()*c.length),o=Math.floor(Math.random()*c[0].length);if(1!==c[o][t]&&"".concat(o).concat(t)!=="".concat(n).concat(l)){let n=[...c];n[o][t]=1,e++,s(n)}}console.log("一クリ目",n,l),f(0)}i[n][l]=1,t(i)}};(0,l.useEffect)(()=>{let e;return m>0&&p!==r&&0===x&&(e=setInterval(()=>{f(e=>e+1)},1e3)),()=>clearInterval(e)},[m,p,o,r,x]);let v=()=>{for(let t=0;t<9;t++)for(let o=0;o<9;o++)d[t][o]=-1,e[t][o]=0,c[t][o]=0;m=0,f(0)};return(0,n.jsx)("div",{className:a().container,children:(0,n.jsxs)("div",{className:a().boardboard,children:[(0,n.jsxs)("div",{className:a().upper,children:[(0,n.jsxs)("div",{className:a().left,children:[" ",String(o).padStart(3,"0")," "]}),(0,n.jsx)("button",{className:p===r?a().clear:1===x?a().over:a().middle,onClick:v}),(0,n.jsx)("div",{className:a().right,children:String(_).padStart(3,"0")})]}),(0,n.jsx)("div",{className:a().board,children:d.map((e,t)=>e.map((e,o)=>(0,n.jsx)("div",{className:-1===e?a().stone:a().number,style:e>=0?{backgroundPosition:"".concat(-((e-1)*55.83),"px 0")}:{},onClick:e=>h(t,o,e),onContextMenu:e=>h(t,o,e)},"".concat(t,"-").concat(o))))})]})})};t.default=i},2729:function(e){e.exports={container:"index_container__gnN1f",boardboard:"index_boardboard__YE2Hj",board:"index_board__2d6xe",upper:"index_upper__5YRwV",left:"index_left__OQaUt",middle:"index_middle__lippZ",right:"index_right__Kv8ge",over:"index_over__W78sT",clear:"index_clear__5Cbfk",cell:"index_cell__3W8ZQ",number:"index_number__l0yF_",stone:"index_stone__oeDmm"}}},function(e){e.O(0,[774,888,179],function(){return e(e.s=8312)}),_N_E=e.O()}]);